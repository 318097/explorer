(this.webpackJsonpexplorer=this.webpackJsonpexplorer||[]).push([[0],{133:function(e,t,n){e.exports=n(208)},138:function(e,t,n){},204:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),i=n(109),l=n(126),u=n(38),d=(n(138),n(210)),s=n(35),p=n(128),m=n(14),f=n(111),h=n.n(f),v=function(e,t){for(var n=[],a=t;a;){n.push({name:a.name,id:a.id});var r=a.parent;(a=e[r])&&(a.id=r)}return n.reverse()},E=function(e,t){var n=e.parentId,a=e.itemType,r=e.name,o=h()();return n&&t[n].children.push(o),t[o]={name:r,type:a,parent:n||null,children:"folder"===a?[]:void 0,status:"todos"===a?"none":void 0},t},g=function(e,t){var n=t[e],a=n.parent,r=t[a];a&&(r.children=r.children.filter((function(t){return t!==e})),t[a]=Object(m.a)({},r));var o=[e];if("folder"===n.type){!function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.push.apply(o,Object(p.a)(n)),n.forEach((function(n){var a=t[n];a&&a.children&&a.children.length>0&&e(a.children)}))}(n.children)}return o.forEach((function(e){return delete t[e]})),t},b=n(15),y=n(211),x=n(9),O=n(16);function j(){var e=Object(b.a)(["\n  transition: 0.5s;\n  cursor: pointer;\n  &:hover {\n    color: #337cca;\n  }\n"]);return j=function(){return e},e}var k=O.b.span(j()),I=function(e){var t=e.navigate,n=e.path,a=void 0===n?[]:n;return r.a.createElement("div",{className:"title-bar"},r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,r.a.createElement(k,{onClick:t()},r.a.createElement(x.a,{type:"home"})," ",r.a.createElement("span",null,"Home"))),a.map((function(e){return r.a.createElement(y.a.Item,{key:e.id},r.a.createElement(k,{onClick:t(e.id)},e.name))}))))},w=n(18),C=n(212),N=n(55),T=function(e){return{type:"ADD_ITEM",payload:e}},S=function(e){return{type:"UPDATE_ITEM",payload:e}},_=function(e){return{type:"DELETE_ITEM",payload:e}},z=n(209);function D(){var e=Object(b.a)(["\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    position: absolute;\n    background: #e8e8e8;\n    padding: 2px 10px;\n    right: 0;\n    left: 0;\n    top: 0;\n    & > * {\n      margin: 1px;\n    }\n  }\n"]);return D=function(){return e},e}function F(){var e=Object(b.a)(["\n  right: -2px;\n  top: 2px;\n  position: absolute;\n  font-size: 0.8rem;\n  z-index: 1;\n"]);return F=function(){return e},e}var P=Object(O.b)(x.a)(F()),A=O.b.div(D()),M=function(e){var t=e.renameFolder,n=e.handleDelete,o=Object(a.useState)(!1),c=Object(w.a)(o,2),i=c[0],l=c[1];return r.a.createElement(a.Fragment,null,r.a.createElement(P,{type:"more",onClick:function(e){e.stopPropagation(),l((function(e){return!e}))}}),i&&r.a.createElement(A,{onClick:function(e){return e.stopPropagation()}},r.a.createElement(x.a,{onClick:function(){l(!1),t()},type:"edit"}),r.a.createElement(z.a,{title:"Delete?",onConfirm:function(){n(),l(!1)},placement:"right",okText:"Yes",cancelText:"No"},r.a.createElement(x.a,{type:"delete"}))))};function U(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #ccc;\n  height: 60px;\n  width: 60px;\n  padding: 1px 0;\n  display: inline-block;\n  margin: 2px;\n  cursor: pointer;\n  transition: all 0.5s;\n  position: relative;\n  &:hover {\n    background: lightgrey;\n  }\n  .icon-wrapper {\n    text-align: center;\n    flex: 1 1 auto;\n    .icon {\n      font-size: 2.2rem;\n    }\n  }\n  .filename {\n    padding: 0 2px;\n    text-align: center;\n    position: relative;\n    word-break: break-all;\n    font-size: 0.8rem;\n  }\n  .rename-folder-input {\n    padding: 2px;\n    margin: 0;\n    background: #ececec;\n    border: none;\n    width: 100%;\n    font-size: 0.8rem;\n  }\n"]);return U=function(){return e},e}var L=O.b.div(U()),X=function(e){var t=e.file,n=e.navigate,o=e.updateItem,c=e.deleteItem,i=Object(a.useState)(!1),l=Object(w.a)(i,2),u=l[0],d=l[1],s=Object(a.useState)(""),p=Object(w.a)(s,2),m=p[0],f=p[1];return r.a.createElement(L,{onClick:n(t.id)},r.a.createElement("div",{className:"icon-wrapper"},r.a.createElement(x.a,{className:"icon",type:"folder"})),u?r.a.createElement("input",{className:"rename-folder-input",type:"text",value:m,autoFocus:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.target.value;return f(t)},onKeyUp:function(e){var n=e.which;13===n?(o({fileId:t.id,key:"name",value:m}),f(""),d(!1)):27===n&&(f(""),d(!1))}}):r.a.createElement("div",{className:"filename"},function(e){return e.length>8?e.slice(0,8)+"..":e}(t.name)),r.a.createElement(M,{handleDelete:function(){return c(t.id)},renameFolder:function(){f(t.name),d(!0)}}))};function H(){var e=Object(b.a)(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  align-items: center;\n  justify-content: flex-end;\n  button,\n  input {\n    font-size: 0.7rem;\n    margin: 0 2px;\n  }\n  .container {\n    display: flex;\n    align-items: center;\n    background: lightgrey;\n    padding: 5px 10px;\n    input {\n      width: 100px;\n    }\n  }\n"]);return H=function(){return e},e}var B=O.b.div(H()),J={addItem:T,updateItem:S,deleteItem:_},K=Object(s.b)(null,J)((function(e){var t=e.navigate,n=e.files,o=void 0===n?[]:n,c=e.path,i=e.addItem,l=e.updateItem,u=e.deleteItem,d=Object(a.useState)(!1),s=Object(w.a)(d,2),p=s[0],m=s[1],f=Object(a.useState)(""),h=Object(w.a)(f,2),v=h[0],E=h[1],g=function(){var e=v.trim()||"New Folder";i({itemType:"folder",name:e,parentId:c.length&&c[c.length-1].id}),m(!1),E("")};return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"folder-list"},o.length>0?o.map((function(e){return r.a.createElement(X,{updateItem:l,deleteItem:u,key:e.id,navigate:t,file:e})})):r.a.createElement("p",{className:"empty-message"},"Empty folder"),r.a.createElement(B,null,p?r.a.createElement("div",{className:"container"},r.a.createElement(C.a,{size:"small",value:v,autoFocus:!0,placeholder:"Folder Name",onChange:function(e){var t=e.target.value;return E(t)},onPressEnter:g}),r.a.createElement(N.a,{size:"small",onClick:function(){return m(!1)}},"Cancel"),r.a.createElement(N.a,{size:"small",onClick:g},"Create")):r.a.createElement(N.a,{size:"small",onClick:function(){return m((function(e){return!e}))}},"New Folder",r.a.createElement(x.a,{type:"folder-add"})))))}));function R(){var e=Object(b.a)(['\n  display: flex;\n  flex-direction: row;\n  border: 1px solid lightgrey;\n  margin: 3px;\n  padding: 0;\n  position: relative;\n  &:before {\n    content: "";\n    display: block;\n    height: 100%;\n    width: 5px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: ',";\n  }\n  .name {\n    padding: 3px 10px;\n    flex: 1 1 auto;\n    ",";\n  }\n  .status {\n    padding: 0 1px;\n    background: #ececec;\n    & > * {\n      margin: 2px;\n    }\n    .anticon {\n      transition: 0.5s;\n      border-radius: 50%;\n      padding: 4px;\n      &:hover {\n        background: lightgrey;\n      }\n    }\n  }\n  .edit-todo-input {\n    padding-left: 5px;\n    flex: 1 1 auto;\n    z-index: 1;\n    margin: 0;\n    background: #f1f1f1;\n    border: none;\n    font-size: 0.8rem;\n  }\n"]);return R=function(){return e},e}function V(){var e=Object(b.a)(["\n  text-decoration: line-through;\n  color: grey;\n  font-style: italic;\n"]);return V=function(){return e},e}var W=Object(O.a)(V()),Y=O.b.div(R(),(function(e){return"done"===e.status?"green":"lightgrey"}),(function(e){return"done"===e.status&&W})),$=function(e){var t=e.todo,n=t.name,o=t.status,c=t.id,i=e.updateItem,l=e.deleteItem,u=Object(a.useState)(!1),s=Object(w.a)(u,2),p=s[0],m=s[1],f=Object(a.useState)(""),h=Object(w.a)(f,2),v=h[0],E=h[1];return r.a.createElement(Y,{status:o},p?r.a.createElement("input",{className:"edit-todo-input",type:"text",autoFocus:!0,value:v,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.target.value;return E(t)},onKeyUp:function(e){var t=e.which;13===t?(i({fileId:c,key:"name",value:v}),E(""),m(!1)):27===t&&(E(""),m(!1))}}):r.a.createElement("span",{className:"name"},n),r.a.createElement("div",{className:"status"},r.a.createElement(x.a,{type:"edit",onClick:function(){return m((function(e){return!e})),E(n)}}),r.a.createElement(z.a,{title:"Delete?",onConfirm:function(){return l(c)},placement:"top",okText:"Yes",cancelText:"No"},r.a.createElement(x.a,{type:"delete"})),r.a.createElement(d.a,{type:"vertical"}),r.a.createElement(x.a,{type:"check",onClick:function(){return i({fileId:c,key:"status",value:"done"})}})))};function q(){var e=Object(b.a)(["\n  text-align: center;\n  margin: 10px auto;\n  button,\n  input {\n    font-size: 0.7rem;\n    margin: 2px;\n  }\n  .container {\n    width: 300px;\n    margin: 2px auto;\n  }\n"]);return q=function(){return e},e}var G=O.b.div(q()),Q={addItem:T,updateItem:S,deleteItem:_},Z=Object(s.b)(null,Q)((function(e){var t=e.todos,n=void 0===t?[]:t,o=e.path,c=e.addItem,i=e.updateItem,l=e.deleteItem,u=Object(a.useState)(!1),d=Object(w.a)(u,2),s=d[0],p=d[1],m=Object(a.useState)(""),f=Object(w.a)(m,2),h=f[0],v=f[1],E=function(){h.trim()&&(c({name:h,itemType:"todos",parentId:o.length&&o[o.length-1].id||null}),p(!1),v(""))};return r.a.createElement("div",{className:"todo-list"},n.length>0?n.map((function(e){return r.a.createElement($,{updateItem:i,deleteItem:l,key:e.id,todo:e})})):r.a.createElement("p",{className:"empty-message"},"No todos"),r.a.createElement(G,null,s?r.a.createElement("div",{className:"container"},r.a.createElement(C.a,{size:"small",value:h,autoFocus:!0,placeholder:"Task..",onChange:function(e){var t=e.target.value;return v(t)},onPressEnter:E}),r.a.createElement(N.a,{size:"small",onClick:function(){return p(!1)}},"Cancel"),r.a.createElement(N.a,{size:"small",onClick:E},"Create")):r.a.createElement(N.a,{size:"small",onClick:function(){return p((function(e){return!e}))}},"New Todo",r.a.createElement(x.a,{type:"plus"}))))})),ee=function(e){return e.id?e.id:"/"},te={setPath:function(e){return{type:"SET_PATH",payload:e}}},ne=Object(s.b)((function(e,t){var n=e.rootStructure,a=e.path,r=ee(t.match.params),o=n[r];return{path:a,pathContent:"/"===r||o?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[],a=[];return t?t.children.forEach((function(t){var r=e[t];"todos"===r.type?a.push(Object(m.a)({},r,{id:t})):n.push(Object(m.a)({},r,{id:t}))})):Object.keys(e).forEach((function(t){var r=e[t];r.parent||("todos"===r.type?a.push(Object(m.a)({},r,{id:t})):n.push(Object(m.a)({},r,{id:t})))})),{files:n,todos:a}}(n,o):null}}),te)((function(e){var t=e.path,n=e.pathContent,o=e.match,c=e.setPath,i=e.history;Object(a.useEffect)((function(){var e=ee(o.params);c(e)}),[o]);var l=function(e){return function(){return i.push(e?"/explorer/".concat(e):"/explorer")}};return r.a.createElement("div",null,r.a.createElement(I,{navigate:l,path:t}),n?r.a.createElement(a.Fragment,null,r.a.createElement(K,{navigate:l,files:n.files,path:t}),r.a.createElement(d.a,{style:{margin:"12px 0"}}),r.a.createElement(Z,{path:t,todos:n.todos})):r.a.createElement("p",{className:"empty-message"},"Invalid path"))})),ae=function(){return r.a.createElement("header",null,"Explorer")},re=function(){return r.a.createElement(l.a,{basename:"/"},r.a.createElement("div",{className:"app"},r.a.createElement(ae,null),r.a.createElement("section",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/explorer/:id",component:ne}),r.a.createElement(u.b,{exact:!0,path:"/explorer/",component:ne}),r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(u.a,{to:"/explorer"})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(204),n(205);var oe=n(33),ce=n(94),ie=n(127),le={path:[],rootStructure:{test:{name:"test",type:"folder",parent:null,children:["child1","child2"]},test2:{name:"test2",type:"folder",parent:null,children:[]},child1:{name:"child1",type:"folder",parent:"test",children:[]},child2:{name:"task",type:"todos",parent:"test",status:"none"}}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATH":var n,a=t.payload,r=e.rootStructure,o=r[a];return"/"===t.payload?n=[]:o&&(n=v(r,Object(m.a)({},o,{fileId:a}))),Object(m.a)({},e,{path:n});case"ADD_ITEM":var c=E(t.payload,Object(m.a)({},e.rootStructure));return Object(m.a)({},e,{rootStructure:c});case"UPDATE_ITEM":var i=t.payload,l=i.fileId,u=i.key,d=i.value,s=Object(m.a)({},e.rootStructure);return s[l][u]=d,Object(m.a)({},e,{rootStructure:s});case"DELETE_ITEM":var p=t.payload,f=g(p,Object(m.a)({},e.rootStructure));return Object(m.a)({},e,{rootStructure:f});default:return e}},de={key:"root",storage:n.n(ie).a},se=Object(ce.a)(de,ue),pe=function(){var e=Object(oe.c)(se,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return{store:e,persistor:Object(ce.b)(e)}}(),me=pe.store,fe=pe.persistor;c.a.render(r.a.createElement(s.a,{store:me},r.a.createElement(i.a,{persistor:fe},r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[133,1,2]]]);
//# sourceMappingURL=main.ca49f269.chunk.js.map