(this.webpackJsonpexplorer=this.webpackJsonpexplorer||[]).push([[0],{134:function(e,n,t){e.exports=t(209)},139:function(e,n,t){},205:function(e,n,t){},209:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(3),c=t.n(o),i=t(112),l=t(127),u=t(41),d=(t(139),t(211)),p=t(38),s=t(58),m=t(15),f=t(92),h=t.n(f),b=function(e,n){for(var t=[],a=n;a;){t.push({name:a.name,id:a.id});var r=a.parent;(a=e[r])&&(a.id=r)}return t.reverse()},v=function(e,n){var t=e.parentId,a=e.itemType,r=e.name,o=h()();return t&&n[t].children.push(o),n[o]={name:r,type:a,parent:t||null,children:"folder"===a?[]:void 0,status:"todos"===a?"none":void 0},n},g=function(e,n){var t=n[e],a=t.parent,r=n[a];a&&(r.children=r.children.filter((function(n){return n!==e})),n[a]=Object(m.a)({},r));var o=[e];if("folder"===t.type){!function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.push.apply(o,Object(s.a)(t)),t.forEach((function(t){var a=n[t];a&&a.children&&a.children.length>0&&e(a.children)}))}(t.children)}return o.forEach((function(e){return delete n[e]})),n},E=function(e,n,t){var a,r=function e(n,a){return n.map((function(n){var r=Object(m.a)({},t[n]),o=h()();if("folder"===r.type){var c=[];r.children.length&&(c=e(r.children,o)),t[o]=Object(m.a)({},r,{parent:a,children:Object(s.a)(c)})}else t[o]=Object(m.a)({},r,{id:o,parent:a});return o}))}(n,e);return e&&(a=t[e].children).push.apply(a,Object(s.a)(r)),t},x=t(16),y=t(212),O=t(10),j=t(17);function k(){var e=Object(x.a)(["\n  transition: 0.5s;\n  cursor: pointer;\n  font-size: .9rem;\n  padding: 0px 3px;\n  color: #2dadba;\n  border-radius: 2px;\n  line-height: 0;\n  &:hover {\n    background #2dadba;\n    color: white;\n  }\n"]);return k=function(){return e},e}var I=j.b.span(k()),C=function(e){var n=e.navigate,t=e.path,a=void 0===t?[]:t;return r.a.createElement("div",{className:"title-bar"},r.a.createElement(y.a,null,r.a.createElement(y.a.Item,null,r.a.createElement(I,{onClick:n()},r.a.createElement(O.a,{type:"home"})," ",r.a.createElement("span",null,"Home"))),a.map((function(e){return r.a.createElement(y.a.Item,{key:e.id},r.a.createElement(I,{onClick:n(e.id)},e.name))}))))},w=t(18),N=t(215),T=function(e){return e.length>=1?e[e.length-1].id:null},S=function(e){return{type:"ADD_ITEM",payload:e}},_=function(e){return{type:"UPDATE_ITEM",payload:e}},F=function(e){return{type:"DELETE_ITEM",payload:e}},z=t(129),D=t(57);function P(){var e=Object(x.a)(["\n  font-size: 0.7rem;\n  margin: 0 2px;\n"]);return P=function(){return e},e}var M=Object(j.b)(D.a)(P()),A=function(e){var n=e.children,t=Object(z.a)(e,["children"]);return r.a.createElement(M,Object.assign({size:"small"},t),n)},L=t(214),U=t(210);function R(){var e=Object(x.a)(["\n    display: flex;\n    width: 80%;\n    flex-direction: column;\n    padding: 2px;\n    font-size: .7rem;\n    position: absolute;\n    background: white;\n    border: 1px solid lightgrey;\n    border-radius: 3px;\n    right: 2px;\n    top: 15px;\n    & > * {\n      margin: 2px 1px;\n      padding: 1px;\n      &:hover{\n        background: lightgrey;\n      }\n    }\n  }\n"]);return R=function(){return e},e}function X(){var e=Object(x.a)(["\n  right: -2px;\n  top: 2px;\n  position: absolute;\n  font-size: 0.8rem;\n  z-index: 1;\n"]);return X=function(){return e},e}var Y=Object(j.b)(O.a)(X()),H=j.b.div(R()),B=function(e){var n=e.renameFolder,t=e.handleDelete,o=Object(a.useRef)(null),c=Object(a.useState)(!1),i=Object(w.a)(c,2),l=i[0],u=i[1];Object(a.useEffect)((function(){return document.addEventListener("click",d),function(){return document.removeEventListener("click",d)}}),[l]);var d=function(e){l&&o.current&&!o.current.contains(e.target)&&u(!1)};return r.a.createElement(a.Fragment,null,r.a.createElement(Y,{type:"more",onClick:function(e){e.stopPropagation(),u((function(e){return!e}))}}),l&&r.a.createElement(H,{ref:o,onClick:function(e){return e.stopPropagation()}},r.a.createElement("span",{onClick:function(){u(!1),n()}},r.a.createElement(O.a,{type:"edit"}),"Rename"),r.a.createElement(U.a,{title:"Delete?",onConfirm:function(){t(),u(!1)},placement:"right",okText:"Yes",cancelText:"No"},r.a.createElement("span",null,r.a.createElement(O.a,{type:"delete"}),"Delete"))))};function J(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 2px solid #424242;\n  height: 70px;\n  width: 70px;\n  padding: 0;\n  display: inline-block;\n  margin: 2px;\n  border-radius: 2px;\n  cursor: pointer;\n  transition: all 0.5s;\n  position: relative;\n  background: white;\n  &:hover {\n    background: #807f7f7a;\n  }\n  .icon-wrapper {\n    text-align: center;\n    .icon {\n      font-size: 3rem;\n    }\n  }\n  .filename {\n    flex: 1 0 auto;\n    padding: 0 2px;\n    text-align: center;\n    word-break: break-word;\n    font-size: 0.9rem;\n    line-height: 10px;\n    ",";\n  }\n  .rename-folder-input {\n    padding: 1px 2px;\n    position: relative;\n    bottom: 3px;\n    margin: 0;\n    background: #ececec;\n    border: none;\n    width: 100%;\n    font-size: 0.8rem;\n  }\n  .checkbox {\n    position: absolute;\n    top: 0px;\n    left: 2px;\n  }\n"]);return J=function(){return e},e}function K(){var e=Object(x.a)(["\n  position: relative;\n  bottom: 5px;\n  font-size: 0.7rem;\n"]);return K=function(){return e},e}var V=Object(j.a)(K()),W=j.b.div(J(),(function(e){return e.fileName.length>10&&V})),$=function(e){var n=e.file,t=e.navigate,o=e.updateItem,c=e.deleteItem,i=e.addFolderToSelection,l=Object(a.useState)(!1),u=Object(w.a)(l,2),d=u[0],p=u[1],s=Object(a.useState)(""),m=Object(w.a)(s,2),f=m[0],h=m[1];return r.a.createElement(W,{fileName:n.name,onClick:t(n.id)},r.a.createElement("div",{className:"icon-wrapper"},r.a.createElement(O.a,{className:"icon",type:"folder"})),d?r.a.createElement("input",{className:"rename-folder-input",type:"text",value:f,autoFocus:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var n=e.target.value;return h(n)},onKeyUp:function(e){var t=e.which;13===t?(o({fileId:n.id,key:"name",value:f}),h(""),p(!1)):27===t&&(h(""),p(!1))}}):r.a.createElement("div",{className:"filename"},function(e){return e.length>18?e.slice(0,18)+"..":e}(n.name)),r.a.createElement(L.a,{className:"checkbox",onChange:function(e){var t=e.target.checked;return i(t?"add":"remove",n.id)},onClick:function(e){return e.stopPropagation()}}),r.a.createElement(B,{handleDelete:function(){return c(n.id)},renameFolder:function(){h(n.name),p(!0)}}))},q=t(213);function G(){var e=Object(x.a)(["\n  display: inline-block;\n  margin: 0 2px;\n  input {\n    font-size: 0.7rem;\n    margin: 0 2px;\n  }\n  .container {\n    display: flex;\n    align-items: center;\n    // background: gainsboro;\n    border-radius: 2px;\n    padding: 0px 10px;\n    input {\n      width: 100px;\n    }\n  }\n"]);return G=function(){return e},e}var Q=j.b.div(G()),Z=function(e){var n=e.path,t=e.addItem,o=Object(a.useState)(!1),c=Object(w.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(""),d=Object(w.a)(u,2),p=d[0],s=d[1],m=function(){var e=p.trim()||"New Folder";t({itemType:"folder",name:e,parentId:T(n)}),l(!1),s("")};return r.a.createElement(Q,null,i?r.a.createElement("div",{className:"container"},r.a.createElement(q.a,{size:"small",value:p,autoFocus:!0,placeholder:"Folder Name",onChange:function(e){var n=e.target.value;return s(n)},onPressEnter:m}),r.a.createElement(A,{onClick:function(){return l(!1)}},"Cancel"),r.a.createElement(A,{onClick:m},"Create")):r.a.createElement(A,{size:"small",onClick:function(){return l((function(e){return!e}))}},"New Folder",r.a.createElement(O.a,{type:"folder-add"})))},ee={addItem:S,updateItem:_,deleteItem:F,copyItem:function(e){return{type:"COPY_ITEM",payload:e}}},ne=Object(p.b)(null,ee)((function(e){var n=e.navigate,t=e.files,o=void 0===t?[]:t,c=e.path,i=e.addItem,l=e.updateItem,u=e.deleteItem,d=e.copyItem,p=Object(a.useState)([]),m=Object(w.a)(p,2),f=m[0],h=m[1],b=Object(a.useState)("initial"),v=Object(w.a)(b,2),g=v[0],E=v[1],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",n=arguments.length>1?arguments[1]:void 0;h("add"===e?function(e){return[].concat(Object(s.a)(e),[n])}:function(e){return e.filter((function(e){return e!==n}))})};return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"folder-list"},r.a.createElement("div",{className:"folders"},o.length>0?o.map((function(e){return r.a.createElement($,{addFolderToSelection:x,updateItem:l,deleteItem:u,key:e.id,navigate:n,file:e})})):r.a.createElement("p",{className:"empty-message"},"Empty folder")),r.a.createElement("div",{className:"actions"},f.length>0&&r.a.createElement(a.Fragment,null,r.a.createElement("span",null,f.length," Folder(s)"," ","copied"===g?"copied":"selected","."),"copied"===g?r.a.createElement(A,{onClick:function(){d({files:f,target:T(c)}),h([]),E("initial")}},"Paste"):r.a.createElement(A,{onClick:function(){E("copied"),N.a.success("Copied ".concat(f.length," Folders."))}},"Copy")),r.a.createElement(Z,{path:c,addItem:i}))))}));function te(){var e=Object(x.a)(['\n  display: flex;\n  flex-direction: row;\n  border: 1px solid lightgrey;\n  margin: 3px;\n  padding: 0;\n  position: relative;\n  &:before {\n    content: "";\n    display: block;\n    height: 100%;\n    width: 5px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: ',";\n  }\n  .name {\n    padding: 3px 10px;\n    flex: 1 1 auto;\n    ",";\n  }\n  .status {\n    padding: 0 1px;\n    background: #ececec;\n    & > * {\n      margin: 2px;\n    }\n    .anticon {\n      transition: 0.5s;\n      border-radius: 50%;\n      padding: 4px;\n      &:hover {\n        background: lightgrey;\n      }\n    }\n  }\n  .edit-todo-input {\n    padding-left: 5px;\n    flex: 1 1 auto;\n    z-index: 1;\n    margin: 0;\n    background: #f1f1f1;\n    border: none;\n    font-size: 0.8rem;\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(x.a)(["\n  text-decoration: line-through;\n  color: grey;\n  font-style: italic;\n"]);return ae=function(){return e},e}var re=Object(j.a)(ae()),oe=j.b.div(te(),(function(e){return"done"===e.status?"lightgreen":"lightgrey"}),(function(e){return"done"===e.status&&re})),ce=function(e){var n=e.todo,t=n.name,o=n.status,c=n.id,i=e.updateItem,l=e.deleteItem,u=Object(a.useState)(!1),p=Object(w.a)(u,2),s=p[0],m=p[1],f=Object(a.useState)(""),h=Object(w.a)(f,2),b=h[0],v=h[1];return r.a.createElement(oe,{status:o},s?r.a.createElement("input",{className:"edit-todo-input",type:"text",autoFocus:!0,value:b,onClick:function(e){return e.stopPropagation()},onChange:function(e){var n=e.target.value;return v(n)},onKeyUp:function(e){var n=e.which;13===n?(i({fileId:c,key:"name",value:b}),v(""),m(!1)):27===n&&(v(""),m(!1))}}):r.a.createElement("span",{className:"name"},t),r.a.createElement("div",{className:"status"},r.a.createElement(O.a,{type:"edit",onClick:function(){m((function(e){return!e})),v(t)}}),r.a.createElement(U.a,{title:"Delete?",onConfirm:function(){return l(c)},placement:"top",okText:"Yes",cancelText:"No"},r.a.createElement(O.a,{type:"delete"})),r.a.createElement(d.a,{style:{background:"grey"},type:"vertical"}),r.a.createElement(O.a,{type:"check",onClick:function(){return i({fileId:c,key:"status",value:"done"})}})))};function ie(){var e=Object(x.a)(["\n  text-align: center;\n  margin: 10px auto;\n  input {\n    font-size: 0.7rem;\n    margin: 2px;\n  }\n  .container {\n    width: 300px;\n    margin: 2px auto;\n  }\n"]);return ie=function(){return e},e}var le=j.b.div(ie()),ue={addItem:S,updateItem:_,deleteItem:F},de=Object(p.b)(null,ue)((function(e){var n=e.todos,t=void 0===n?[]:n,o=e.path,c=e.addItem,i=e.updateItem,l=e.deleteItem,u=Object(a.useState)(!1),d=Object(w.a)(u,2),p=d[0],s=d[1],m=Object(a.useState)(""),f=Object(w.a)(m,2),h=f[0],b=f[1],v=function(){h.trim()&&(c({name:h,itemType:"todos",parentId:o.length&&o[o.length-1].id||null}),s(!1),b(""))};return r.a.createElement("div",{className:"todo-list"},t.length>0?t.map((function(e){return r.a.createElement(ce,{updateItem:i,deleteItem:l,key:e.id,todo:e})})):r.a.createElement("p",{className:"empty-message"},"No todos"),r.a.createElement(le,null,p?r.a.createElement("div",{className:"container"},r.a.createElement(q.a,{size:"small",value:h,autoFocus:!0,placeholder:"Task..",onChange:function(e){var n=e.target.value;return b(n)},onPressEnter:v}),r.a.createElement(A,{onClick:function(){return s(!1)}},"Cancel"),r.a.createElement(A,{onClick:v},"Create")):r.a.createElement(A,{onClick:function(){return s((function(e){return!e}))}},"New Todo",r.a.createElement(O.a,{type:"plus"}))))})),pe=function(e){return e.id?e.id:"/"},se={setPath:function(e){return{type:"SET_PATH",payload:e}}},me=Object(p.b)((function(e,n){var t=e.rootStructure,a=e.path,r=pe(n.match.params),o=t[r];return{path:a,pathContent:"/"===r||o?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=[],a=[];return n?n.children.forEach((function(n){var r=e[n];"todos"===r.type?a.push(Object(m.a)({},r,{id:n})):t.push(Object(m.a)({},r,{id:n}))})):Object.keys(e).forEach((function(n){var r=e[n];r.parent||("todos"===r.type?a.push(Object(m.a)({},r,{id:n})):t.push(Object(m.a)({},r,{id:n})))})),{files:t,todos:a}}(t,o):null}}),se)((function(e){var n=e.path,t=e.pathContent,o=e.match,c=e.setPath,i=e.history;Object(a.useEffect)((function(){var e=pe(o.params);c(e)}),[o]);var l=function(e){return function(){return i.push(e?"/explorer/".concat(e):"/explorer")}};return r.a.createElement("div",null,r.a.createElement(C,{navigate:l,path:n}),t?r.a.createElement(a.Fragment,null,r.a.createElement(ne,{navigate:l,files:t.files,path:n}),r.a.createElement(d.a,{style:{margin:"12px 0",color:"grey",fontSize:".8rem"},orientation:"left"},"".concat(t.files.length," Folder(s), ").concat(t.todos.length," Todo(s)")),r.a.createElement(de,{path:n,todos:t.todos})):r.a.createElement("p",{className:"empty-message"},"Invalid path"))}));function fe(){var e=Object(x.a)(["\n  font-weight: bold;\n  margin-bottom: 7px;\n  margin-top: 3px;\n  span {\n    font-size: 1.1rem;\n  }\n"]);return fe=function(){return e},e}var he=j.b.header(fe()),be=function(){return r.a.createElement(he,null,r.a.createElement("span",{className:"underline"},"Explorer"))},ve=function(){return r.a.createElement(l.a,{basename:"/"},r.a.createElement("div",{className:"app"},r.a.createElement(be,null),r.a.createElement("section",null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/explorer/:id",component:me}),r.a.createElement(u.b,{exact:!0,path:"/explorer/",component:me}),r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(u.a,{to:"/explorer"})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(205),t(206);var ge=t(36),Ee=t(97),xe=t(128),ye={path:[],rootStructure:{id1:{name:"Folder 1",type:"folder",parent:null,children:["id3","id4"]},id2:{name:"Folder 2",type:"folder",parent:null,children:[]},id3:{name:"Sub Folder 1",type:"folder",parent:"id1",children:[]},id4:{name:"Todo 1",type:"todos",parent:"id1",status:"none"}}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_PATH":var t,a=n.payload,r=e.rootStructure,o=r[a];return"/"===n.payload?t=[]:o&&(t=b(r,Object(m.a)({},o,{id:a}))),Object(m.a)({},e,{path:t});case"ADD_ITEM":var c=v(n.payload,Object(m.a)({},e.rootStructure));return Object(m.a)({},e,{rootStructure:c});case"UPDATE_ITEM":var i=n.payload,l=i.fileId,u=i.key,d=i.value,p=Object(m.a)({},e.rootStructure);return p[l][u]=d,Object(m.a)({},e,{rootStructure:p});case"DELETE_ITEM":var s=n.payload,f=g(s,Object(m.a)({},e.rootStructure));return Object(m.a)({},e,{rootStructure:f});case"COPY_ITEM":var h=n.payload,x=h.files,y=h.target,O=E(y,x,Object(m.a)({},e.rootStructure));return Object(m.a)({},e,{rootStructure:O});default:return e}},je={key:"root",storage:t.n(xe).a},ke=Object(Ee.a)(je,Oe),Ie=function(){var e=Object(ge.c)(ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return{store:e,persistor:Object(Ee.b)(e)}}(),Ce=Ie.store,we=Ie.persistor;c.a.render(r.a.createElement(p.a,{store:Ce},r.a.createElement(i.a,{persistor:we},r.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[134,1,2]]]);
//# sourceMappingURL=main.faa0b102.chunk.js.map